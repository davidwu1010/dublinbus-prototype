(this.webpackJsonpdublinbus=this.webpackJsonpdublinbus||[]).push([[0],{116:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),i=n.n(c),o=n(16),u=n(171),s=n(157),l=n(160),p=n(162),E=n(175),m=n(163),O=n(164),d=n(174),b=n(165),f=n(72),T=n.n(f),S=Object(s.a)({tabContainer:{marginLeft:"auto"},appBar:{height:"70px"}});var g=function(){var e=S();return r.a.createElement(l.a,{position:"static",className:e.appBar},r.a.createElement(p.a,null,r.a.createElement(E.a,{smUp:!0},r.a.createElement(m.a,{edge:"start"},r.a.createElement(T.a,null))),r.a.createElement(O.a,{variant:"h6"},"Dublin Bus"),r.a.createElement(d.a,{value:!1,className:e.tabContainer},r.a.createElement(b.a,{label:"Saved Routes"}),r.a.createElement(b.a,{label:"Timetable"}))))},v=n(167),C=n(172),I=n(76),j=n.n(I),y=n(169),w=n(37),R={AUTOCOMPLETE_START:"AUTOCOMPLETE_START",AUTOCOMPLETE_SUCCESS:"AUTOCOMPLETE_SUCCESS",AUTOCOMPLETE_FAILURE:"AUTOCOMPLETE_FAILURE",SET_ORIGIN:"SET_ORIGIN",SET_DEST:"SET_DEST",DIRECTIONS_START:"DIRECTIONS_START",DIRECTIONS_SUCCESS:"DIRECTIONS_SUCCESS",DIRECTIONS_FAILURE:"DIRECTIONS_FAILURE"},_=function(e,t){return{type:R.AUTOCOMPLETE_SUCCESS,payload:{places:e,source:t}}},A=n(173),x=n(19),h=n(27),U={originList:[],destList:[],origin:"",dest:"",directions:null},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.AUTOCOMPLETE_SUCCESS:return"origin"===t.payload.source?Object(h.a)(Object(h.a)({},e),{},{originList:t.payload.places}):Object(h.a)(Object(h.a)({},e),{},{destList:t.payload.places});case R.SET_ORIGIN:return Object(h.a)(Object(h.a)({},e),{},{origin:t.payload});case R.SET_DEST:return Object(h.a)(Object(h.a)({},e),{},{dest:t.payload});case R.DIRECTIONS_SUCCESS:return Object(h.a)(Object(h.a)({},e),{},{directions:t.payload});default:return e}},D=function(e){return e.planner},P=Object(x.a)([D],(function(e){return e.originList})),N=Object(x.a)([P],(function(e){return e.map((function(e){return e.description}))})),k=Object(x.a)([D],(function(e){return e.destList})),M=Object(x.a)([k],(function(e){return e.map((function(e){return e.description}))})),F=Object(x.a)([D],(function(e){return e.origin})),B=Object(x.a)([D],(function(e){return e.dest})),G=Object(x.a)([D],(function(e){return e.directions})),J=Object(x.a)([G],(function(e){return e?e.routes:[]})),K=Object(x.a)([J],(function(e){return e.map((function(e){return e.overview_path.map((function(e){return{lat:e.lat(),lng:e.lng()}}))}))})),z=n(166);var q=Object(x.b)({originPredictions:N,destPredictions:M,origin:F,dest:B}),H=Object(w.b)(q,(function(e){return{startAutocomplete:function(t,n){return e(function(e,t){return{type:R.AUTOCOMPLETE_START,payload:{input:e,source:t}}}(t,n))},setOrigin:function(t){return e(function(e){return{type:R.SET_ORIGIN,payload:e}}(t))},setDest:function(t){return e(function(e){return{type:R.SET_DEST,payload:e}}(t))},startDirections:function(t,n){return e(function(e,t){return{type:R.DIRECTIONS_START,payload:{origin:e,dest:t}}}(t,n))}}}))((function(e){var t=e.startAutocomplete,n=e.setOrigin,a=e.setDest,c=e.originPredictions,i=e.destPredictions,o=e.startDirections,u=e.origin,s=e.dest;return r.a.createElement(z.a,{variant:"outlined"},r.a.createElement(v.a,{container:!0,direction:"column",alignItems:"center",spacing:2},r.a.createElement(v.a,{container:!0,item:!0,alignItems:"center"},r.a.createElement(v.a,{container:!0,item:!0,xs:10,direction:"column"},r.a.createElement(A.a,{options:c,renderInput:function(e){return r.a.createElement(C.a,e)},onInputChange:function(e,a){n(a),t(a,"origin")}}),r.a.createElement(A.a,{options:i,renderInput:function(e){return r.a.createElement(C.a,e)},onInputChange:function(e,n){a(n),t(n,"dest")}})),r.a.createElement(v.a,{item:!0,xs:2},r.a.createElement(y.a,null,r.a.createElement(j.a,null)))),r.a.createElement(v.a,{item:!0},r.a.createElement(y.a,{variant:"contained",color:"primary",onClick:function(){return o(u,s)}},"Submit"))))})),Q=n(60),V={width:"75vw",height:"calc(100vh - 70px)",position:"absolute"},W={lat:53.3363,lng:-6.2769};var X=Object(x.b)({polylines:K}),Y=Object(w.b)(X)((function(e){var t=e.polylines;return r.a.createElement(Q.Map,{google:window.google,containerStyle:V,initialCenter:W,zoom:13},t.map((function(e,t){return r.a.createElement(Q.Polyline,{key:t,path:e})})))})),Z=n(170);var $=function(e){var t=e.steps;return r.a.createElement(z.a,{variant:"outlined"},r.a.createElement(Z.a,null,t.map((function(e,t){return r.a.createElement(O.a,{key:t},function(e){var t=e.instructions;return"TRANSIT"===e.travel_mode&&(t+=", "+e.transit.line.short_name),t}(e))}))))};var ee=Object(x.b)({routes:J}),te=Object(w.b)(ee)((function(e){var t=e.routes;return r.a.createElement(v.a,{container:!0},r.a.createElement(v.a,{item:!0,xs:12,sm:3},r.a.createElement(H,null),t.map((function(e,t){return r.a.createElement($,{key:t,steps:e.legs[0].steps})}))),r.a.createElement(E.a,{xsDown:!0},r.a.createElement(v.a,{item:!0,xs:"auto"},r.a.createElement(Y,null))))}));var ne=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null),r.a.createElement(g,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",component:te})))},ae=n(58),re=n(77),ce=(n(114),n(33)),ie=Object(ce.c)({planner:L}),oe=n(23),ue=n.n(oe),se=n(20),le=ue.a.mark(de),pe=ue.a.mark(be),Ee=ue.a.mark(fe),me=ue.a.mark(Te),Oe=ue.a.mark(Se);function de(e){var t,n,a,r,c,i,o;return ue.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(t=e.payload,n=t.input,a=t.source,""!==n){u.next=6;break}return u.next=4,Object(se.c)(_([]));case 4:u.next=21;break;case 6:return r=new window.google.maps.places.AutocompleteService,c=new Promise((function(e,t){r.getPlacePredictions({input:n,location:new window.google.maps.LatLng({lat:53.4321,lng:-6.2759}),radius:11e3},(function(n,a){a===window.google.maps.places.PlacesServiceStatus.OK?e(n):t(a)}))})),u.prev=8,u.next=11,c;case 11:return i=u.sent,o=i.filter((function(e){return e.description.includes("Dublin")})),u.next=15,Object(se.c)(_(o,a));case 15:u.next=21;break;case 17:return u.prev=17,u.t0=u.catch(8),u.next=21,Object(se.c)((s=u.t0,{type:R.AUTOCOMPLETE_FAILURE,payload:s}));case 21:case"end":return u.stop()}var s}),le,null,[[8,17]])}function be(e){var t,n,a,r,c,i;return ue.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.origin,a=t.dest,r=new window.google.maps.DirectionsService,c=new Promise((function(e,t){r.route({origin:n,destination:a,travelMode:"TRANSIT",provideRouteAlternatives:!0,transitOptions:{modes:["BUS"]},region:"ie"},(function(n,a){"OK"===a?e(n):t(a)}))})),o.prev=3,o.next=6,c;case 6:return i=o.sent,o.next=9,Object(se.b)(console.log,i);case 9:return o.next=11,Object(se.c)({type:R.DIRECTIONS_SUCCESS,payload:i});case 11:o.next=17;break;case 13:return o.prev=13,o.t0=o.catch(3),o.next=17,Object(se.c)((u=o.t0,{type:R.DIRECTIONS_START,payload:u}));case 17:case"end":return o.stop()}var u}),pe,null,[[3,13]])}function fe(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(se.d)(R.AUTOCOMPLETE_START,de);case 2:case"end":return e.stop()}}),Ee)}function Te(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(se.d)(R.DIRECTIONS_START,be);case 2:case"end":return e.stop()}}),me)}function Se(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(se.a)([Object(se.b)(fe),Object(se.b)(Te)]);case 2:case"end":return e.stop()}}),Oe)}var ge=ue.a.mark(ve);function ve(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(se.a)([Object(se.b)(Se)]);case 2:case"end":return e.stop()}}),ge)}var Ce=ve,Ie=Object(re.a)(),je=[Ie];var ye=Object(ce.e)(ie,ce.a.apply(void 0,je));Ie.run(Ce);i.a.render(r.a.createElement(w.a,{store:ye},r.a.createElement(ae.a,null,r.a.createElement(ne,null))),document.getElementById("root"))},88:function(e,t,n){e.exports=n(116)}},[[88,1,2]]]);
//# sourceMappingURL=main.29a9d26e.chunk.js.map